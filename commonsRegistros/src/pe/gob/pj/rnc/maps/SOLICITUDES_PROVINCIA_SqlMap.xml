<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="SOLICITUDES_PROVINCIA">
  <resultMap class="pe.gob.pj.rnc.model.Solicitud" id="abatorgenerated_SolicitudResult">
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Tue May 22 12:17:00 GMT-05:00 2007.
    -->
    <result column="CODG_CERTI" jdbcType="CHAR" property="CODG_CERTI"/>
    <result column="NUME_CERTI" jdbcType="CHAR" property="NUME_CERTI"/>
    <result column="APLL_PATER_SOLIC" jdbcType="VARCHAR" property="APLL_PATER_SOLIC"/>
    <result column="APLL_MATER_SOLIC" jdbcType="VARCHAR" property="APLL_MATER_SOLIC"/>
    <result column="NOM1_SOLIC" jdbcType="VARCHAR" property="NOM1_SOLIC"/>
    <result column="NOM2_SOLIC" jdbcType="VARCHAR" property="NOM2_SOLIC"/>
    <result column="NOM3_SOLIC" jdbcType="VARCHAR" property="NOM3_SOLIC"/>
    <result column="NOM4_SOLIC" jdbcType="VARCHAR" property="NOM4_SOLIC"/>
    <result column="NOM5_SOLIC" jdbcType="VARCHAR" property="NOM5_SOLIC"/>
    <result column="TIPO_SOLIC" jdbcType="CHAR" property="TIPO_SOLIC"/>
    <result column="MOTI_SOLIC" jdbcType="CHAR" property="MOTI_SOLIC"/>
    <result column="DOCU_IDENT_SOLIC" jdbcType="CHAR" property="DOCU_IDENT_SOLIC"/>
    <result column="NUME_IDENT_SOLIC" jdbcType="CHAR" property="NUME_IDENT_SOLIC"/>
    <result column="NUME_JUZGA" jdbcType="CHAR" property="NUME_JUZGA"/>
    <result column="CODG_JUZGAD" jdbcType="CHAR" property="CODG_JUZGAD"/>
    <result column="CODG_LUGAR" jdbcType="CHAR" property="CODG_LUGAR"/>
    <result column="NOMB_JUZGA_SOLIC" jdbcType="VARCHAR" property="NOMB_JUZGA_SOLIC"/>
    <result column="NUME_EXPED_SOLIC" jdbcType="VARCHAR" property="NUME_EXPED_SOLIC"/>
    <result column="FECH_NACIM_SOLIC" jdbcType="TIMESTAMP" property="FECH_NACIM_SOLIC"/>
    <result column="CODG_USUAR" jdbcType="VARCHAR" property="CODG_USUAR"/>
    <result column="N_VECES" jdbcType="INTEGER" property="n_VECES"/>
    <result column="MARCA" jdbcType="CHAR" property="MARCA"/>
    <result column="DESC_JUZGA_SOLIC" jdbcType="VARCHAR" property="DESC_JUZGA_SOLIC"/>
    <result column="FECH_DIGIT_SOLIC" jdbcType="TIMESTAMP" property="FECH_DIGIT_SOLIC"/>
    <result column="INDC_PROCE_SOLIC" jdbcType="CHAR" property="INDC_PROCE_SOLIC"/>
    <result column="V_DES_OFICIOx" jdbcType="VARCHAR" property="v_DES_OFICIOx"/>
    <result column="V_DES_DISTRITOx" jdbcType="VARCHAR" property="v_DES_DISTRITOx"/>
    <result column="DESC_TASA" jdbcType="VARCHAR" property="DESC_TASA"/>
    <result column="CODG_USU_FOTO" jdbcType="VARCHAR" property="CODG_USU_FOTO"/>
    <result column="FECH_FOTO" jdbcType="TIMESTAMP" property="FECH_FOTO"/>
    <result column="RUTA_FOTO" jdbcType="VARCHAR" property="RUTA_FOTO"/>
    <result column="CODG_ESTADO_FOTO" jdbcType="CHAR" property="CODG_ESTADO_FOTO"/>
    <result column="CODG_TIPO_ORIGEN" jdbcType="CHAR" property="CODG_TIPO_ORIGEN"/>
    <result column="OBSERVACION" jdbcType="VARCHAR" property="OBSERVACION"/>
    <result column="CODG_ESTADO_SOLICITUD" jdbcType="CHAR" property="CODG_ESTADO_SOLICITUD"/>
    <result column="CODG_USU_REGISTRO" jdbcType="CHAR" property="CODG_USU_REGISTRO"/>
    <result column="FECH_REGISTRO" jdbcType="TIMESTAMP" property="FECH_REGISTRO"/>
    <result column="CODG_USU_ULT_MODI" jdbcType="CHAR" property="CODG_USU_ULT_MODI"/>
    <result column="FECH_ULT_MODI" jdbcType="TIMESTAMP" property="FECH_ULT_MODI"/>
    <result column="DESC_FEC_USU_MODI" jdbcType="VARCHAR" property="DESC_FEC_USU_MODI"/>
    <result column="NOM_PADRE" jdbcType="VARCHAR" property="NOM_PADRE"/>
    <result column="NOM_MADRE" jdbcType="VARCHAR" property="NOM_MADRE"/>
    <result column="NOM_APODERADO" jdbcType="VARCHAR" property="NOM_APODERADO"/>
    <result column="INDC_PROVINCIA" jdbcType="VARCHAR" property="INDC_PROVINCIA"/>
    <result column="INDC_ANULADO" jdbcType="CHAR" property="INDC_ANULADO"/>
    <result column="CODG_USU_ANULACION" jdbcType="CHAR" property="CODG_USU_ANULACION"/>
    <result column="FECH_ANULACION" jdbcType="TIMESTAMP" property="FECH_ANULACION"/>
    <result column="DESC_ANULACION" jdbcType="VARCHAR" property="DESC_ANULACION"/>
    <result column="NUMR_HOJA" jdbcType="VARCHAR" property="NUMR_HOJA"/>
    <result column="V_DES_OFICIO" jdbcType="VARCHAR" property="v_DES_OFICIO"/>
    <result column="V_DES_DISTRITO" jdbcType="VARCHAR" property="v_DES_DISTRITO"/>
    <result column="NOMB_JUZGA_SOLIC1" jdbcType="VARCHAR" property="NOMB_JUZGA_SOLIC1"/>
    <result column="NUMR_IMPRESION" jdbcType="INTEGER" property="NUMR_IMPRESION"/>
    <result column="CODG_USU_IMPRESION" jdbcType="CHAR" property="CODG_USU_IMPRESION"/>
    <result column="ANIO_HOJA" jdbcType="INTEGER" property="ANIO_HOJA"/>
    <result column="FECH_IMPRESION" jdbcType="TIMESTAMP" property="FECH_IMPRESION"/>
    <result column="NUMR_FORM_ANTERIOR" jdbcType="CHAR" property="NUMR_FORM_ANTERIOR"/>
    <result column="FECH_ENTREGA" jdbcType="TIMESTAMP" property="FECH_ENTREGA"/>
    <result column="CODG_DISTRITO_JUDICIAL" jdbcType="CHAR" property="CODG_DISTRITO_JUDICIAL"/>
    <result column="INDC_URGENTE" jdbcType="CHAR" property="INDC_URGENTE"/>
    <result column="CODG_USU_FIRMA" jdbcType="CHAR" property="CODG_USU_FIRMA"/>
    <result column="X_CODG_LUGAR_NAC" jdbcType="CHAR" property="x_CODG_LUGAR_NAC"/>
    <result column="SERIE_HOJA" jdbcType="VARCHAR" property="SERIE_HOJA"/>
    <result column="f_aud" jdbcType="TIMESTAMP" property="f_aud"/>
    <result column="____b_aud" jdbcType="CHAR" property="____b_aud"/>
    <result column="c_aud_uid" jdbcType="VARCHAR" property="c_aud_uid"/>
    <result column="c_aud_pc" jdbcType="VARCHAR" property="c_aud_pc"/>
    <result column="n_aud_ip" jdbcType="VARCHAR" property="n_aud_ip"/>
    <result column="c_aud_mcaddr" jdbcType="VARCHAR" property="c_aud_mcaddr"/>
    <result column="c_aud_lgnred" jdbcType="VARCHAR" property="c_aud_lgnred"/>
    <result column="VENTANILLA" jdbcType="CHAR" property="VENTANILLA"/>
    <result column="L_INDC_OFICIO" jdbcType="CHAR" property="l_INDC_OFICIO"/>
    <result column="L_FEC_NAC" jdbcType="CHAR" property="l_FEC_NAC"/>
    <result column="l_nro_modifica" jdbcType="INTEGER" property="l_nro_modifica"/>
    <result column="pk_alternativo" jdbcType="VARCHAR" property="pk_alternativo"/>
    <result column="NUMR_HOJA_FIN" jdbcType="CHAR" property="NUMR_HOJA_FIN"/>
    <result column="l_autoriza" jdbcType="CHAR" property="l_autoriza"/>
    <result column="l_usuar_aut" jdbcType="CHAR" property="l_usuar_aut"/>
    <result column="fech_aut" jdbcType="TIMESTAMP" property="fech_aut"/>
    <result column="DES_DELITO" jdbcType="VARCHAR" property="DES_DELITO"/>
    <result column="INDC_MAGISTRADO" jdbcType="CHAR" property="INDC_MAGISTRADO"/>
    <result column="DESC_ESTADO_SOLICITUD" jdbcType="VARCHAR" property="DESC_ESTADO_SOLICITUD"/>
  </resultMap>

  <sql id="abatorgenerated_Example_Where_Clause">
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Tue May 22 12:17:00 GMT-05:00 2007.
    -->
    <iterate conjunction="or" prepend="where" property="oredCriteria" removeFirstPrepend="iterate">
      (
      <iterate conjunction="and" prepend="and" property="oredCriteria[].criteriaWithoutValue">
        $oredCriteria[].criteriaWithoutValue[]$
      </iterate>
      <iterate conjunction="and" prepend="and" property="oredCriteria[].criteriaWithSingleValue">
        $oredCriteria[].criteriaWithSingleValue[].condition$
          #oredCriteria[].criteriaWithSingleValue[].value#
      </iterate>
      <iterate conjunction="and" prepend="and" property="oredCriteria[].criteriaWithListValue">
        $oredCriteria[].criteriaWithListValue[].condition$
        <iterate close=")" conjunction="," open="(" property="oredCriteria[].criteriaWithListValue[].values">
          #oredCriteria[].criteriaWithListValue[].values[]#
        </iterate>
      </iterate>
      <iterate conjunction="and" prepend="and" property="oredCriteria[].criteriaWithBetweenValue">
        $oredCriteria[].criteriaWithBetweenValue[].condition$
        #oredCriteria[].criteriaWithBetweenValue[].values[0]# and
        #oredCriteria[].criteriaWithBetweenValue[].values[1]#
      </iterate>
      <iterate conjunction="and" prepend="and" property="oredCriteria[].criteriaSpecialConditions">
        $oredCriteria[].criteriaSpecialConditions[]$
      </iterate>
      )
    </iterate>
  </sql>
  <select id="abatorgenerated_selectByPrimaryKey" parameterClass="pe.gob.pj.rnc.model.Solicitud" resultMap="abatorgenerated_SolicitudResult">
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Tue May 22 12:17:00 GMT-05:00 2007.
    -->
    select CODG_CERTI, NUME_CERTI, APLL_PATER_SOLIC, APLL_MATER_SOLIC, NOM1_SOLIC, NOM2_SOLIC,
      NOM3_SOLIC, NOM4_SOLIC, NOM5_SOLIC, TIPO_SOLIC, MOTI_SOLIC, DOCU_IDENT_SOLIC,
      NUME_IDENT_SOLIC, NUME_JUZGA, CODG_JUZGAD, CODG_LUGAR, NOMB_JUZGA_SOLIC, NUME_EXPED_SOLIC,
      FECH_NACIM_SOLIC, CODG_USUAR, N_VECES, MARCA, DESC_JUZGA_SOLIC, FECH_DIGIT_SOLIC,
      INDC_PROCE_SOLIC, V_DES_OFICIOx, V_DES_DISTRITOx, DESC_TASA, CODG_USU_FOTO, FECH_FOTO,
      RUTA_FOTO, CODG_ESTADO_FOTO, CODG_TIPO_ORIGEN, OBSERVACION, CODG_ESTADO_SOLICITUD,
      CODG_USU_REGISTRO, FECH_REGISTRO, CODG_USU_ULT_MODI, FECH_ULT_MODI, DESC_FEC_USU_MODI,
      NOM_PADRE, NOM_MADRE, NOM_APODERADO, INDC_PROVINCIA, INDC_ANULADO, CODG_USU_ANULACION,
      FECH_ANULACION, DESC_ANULACION, NUMR_HOJA, V_DES_OFICIO, V_DES_DISTRITO, NOMB_JUZGA_SOLIC1,
      NUMR_IMPRESION, CODG_USU_IMPRESION, ANIO_HOJA, FECH_IMPRESION, NUMR_FORM_ANTERIOR,
      FECH_ENTREGA, CODG_DISTRITO_JUDICIAL, INDC_URGENTE, CODG_USU_FIRMA, X_CODG_LUGAR_NAC,
      SERIE_HOJA, f_aud, ____b_aud, c_aud_uid, c_aud_pc, n_aud_ip, c_aud_mcaddr, c_aud_lgnred,
      VENTANILLA, L_INDC_OFICIO, L_FEC_NAC, l_nro_modifica, pk_alternativo, NUMR_HOJA_FIN,
      l_autoriza, l_usuar_aut, fech_aut,DES_DELITO,INDC_MAGISTRADO,
      (select ESC.DESC_ESTADO FROM ESTADO_SOLICITUD_CERTIFICADO ESC WHERE SOLICITUDES_PROVINCIA.CODG_ESTADO_SOLICITUD = ESC.CODG_ESTADO) AS  DESC_ESTADO_SOLICITUD
    from SOLICITUDES_PROVINCIA
    where CODG_CERTI = #CODG_CERTI:CHAR#
  </select>
  <select id="abatorgenerated_selectByExample" parameterClass="pe.gob.pj.rnc.model.SolicitudExample" resultMap="abatorgenerated_SolicitudResult">
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Tue May 22 12:17:00 GMT-05:00 2007.
    -->
    select CODG_CERTI, NUME_CERTI, APLL_PATER_SOLIC, APLL_MATER_SOLIC, NOM1_SOLIC, NOM2_SOLIC,
      NOM3_SOLIC, NOM4_SOLIC, NOM5_SOLIC, TIPO_SOLIC, MOTI_SOLIC, DOCU_IDENT_SOLIC,
      NUME_IDENT_SOLIC, NUME_JUZGA, CODG_JUZGAD, CODG_LUGAR, NOMB_JUZGA_SOLIC, NUME_EXPED_SOLIC,
      FECH_NACIM_SOLIC, CODG_USUAR, N_VECES, MARCA, DESC_JUZGA_SOLIC, FECH_DIGIT_SOLIC,
      INDC_PROCE_SOLIC, V_DES_OFICIOx, V_DES_DISTRITOx, DESC_TASA, CODG_USU_FOTO, FECH_FOTO,
      RUTA_FOTO, CODG_ESTADO_FOTO, CODG_TIPO_ORIGEN, OBSERVACION, CODG_ESTADO_SOLICITUD,
      CODG_USU_REGISTRO, FECH_REGISTRO, CODG_USU_ULT_MODI, FECH_ULT_MODI, DESC_FEC_USU_MODI,
      NOM_PADRE, NOM_MADRE, NOM_APODERADO, INDC_PROVINCIA, INDC_ANULADO, CODG_USU_ANULACION,
      FECH_ANULACION, DESC_ANULACION, NUMR_HOJA, V_DES_OFICIO, V_DES_DISTRITO, NOMB_JUZGA_SOLIC1,
      NUMR_IMPRESION, CODG_USU_IMPRESION, ANIO_HOJA, FECH_IMPRESION, NUMR_FORM_ANTERIOR,
      FECH_ENTREGA, CODG_DISTRITO_JUDICIAL, INDC_URGENTE, CODG_USU_FIRMA, X_CODG_LUGAR_NAC,
      SERIE_HOJA, f_aud, ____b_aud, c_aud_uid, c_aud_pc, n_aud_ip, c_aud_mcaddr, c_aud_lgnred,
      VENTANILLA, L_INDC_OFICIO, L_FEC_NAC, l_nro_modifica, pk_alternativo, NUMR_HOJA_FIN,
      l_autoriza, l_usuar_aut, fech_aut,DES_DELITO,INDC_MAGISTRADO,
      (select ESC.DESC_ESTADO FROM ESTADO_SOLICITUD_CERTIFICADO ESC WHERE SOLICITUDES_PROVINCIA.CODG_ESTADO_SOLICITUD = ESC.CODG_ESTADO) AS  DESC_ESTADO_SOLICITUD
    from SOLICITUDES_PROVINCIA
    <isParameterPresent>
      <include refid="SOLICITUDES_PROVINCIA.abatorgenerated_Example_Where_Clause"/>
      <isNotNull property="orderByClause">
        order by $orderByClause$
      </isNotNull>
    </isParameterPresent>
  </select>
  <delete id="abatorgenerated_deleteByPrimaryKey" parameterClass="pe.gob.pj.rnc.model.Solicitud">
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Tue May 22 12:17:00 GMT-05:00 2007.
    -->
    delete from SOLICITUDES_PROVINCIA
    where CODG_CERTI = #CODG_CERTI:CHAR#
  </delete>
  <delete id="abatorgenerated_deleteByExample" parameterClass="pe.gob.pj.rnc.model.SolicitudExample">
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Tue May 22 12:17:00 GMT-05:00 2007.
    -->
    delete from SOLICITUDES_PROVINCIA
    <include refid="SOLICITUDES_PROVINCIA.abatorgenerated_Example_Where_Clause"/>
  </delete>
  <insert id="abatorgenerated_insert" parameterClass="pe.gob.pj.rnc.model.Solicitud">
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Tue May 22 12:17:00 GMT-05:00 2007.
    -->
    <selectKey keyProperty="CODG_CERTI" resultClass="string">
    	select 'WEB' + right('0000000000' + convert ( varchar, convert(int,substring(CODG_CORRE,4,13))+1),10) from SECUENCIA WHERE CODG_PREFI = 'WEB'
    </selectKey>
    insert into SOLICITUDES_PROVINCIA (CODG_CERTI, NUME_CERTI, APLL_PATER_SOLIC, APLL_MATER_SOLIC,
      NOM1_SOLIC, NOM2_SOLIC, NOM3_SOLIC, NOM4_SOLIC, NOM5_SOLIC, TIPO_SOLIC, MOTI_SOLIC,
      DOCU_IDENT_SOLIC, NUME_IDENT_SOLIC, NUME_JUZGA, CODG_JUZGAD, CODG_LUGAR, NOMB_JUZGA_SOLIC,
      NUME_EXPED_SOLIC, FECH_NACIM_SOLIC, CODG_USUAR, N_VECES, MARCA, DESC_JUZGA_SOLIC,
      FECH_DIGIT_SOLIC, INDC_PROCE_SOLIC, V_DES_OFICIOx, V_DES_DISTRITOx, DESC_TASA, CODG_USU_FOTO,
      FECH_FOTO, RUTA_FOTO, CODG_ESTADO_FOTO, CODG_TIPO_ORIGEN, OBSERVACION, CODG_ESTADO_SOLICITUD,
      CODG_USU_REGISTRO, FECH_REGISTRO, CODG_USU_ULT_MODI, FECH_ULT_MODI, DESC_FEC_USU_MODI,
      NOM_PADRE, NOM_MADRE, NOM_APODERADO, INDC_PROVINCIA, INDC_ANULADO, CODG_USU_ANULACION,
      FECH_ANULACION, DESC_ANULACION, V_DES_OFICIO, V_DES_DISTRITO, NOMB_JUZGA_SOLIC1,
      NUMR_IMPRESION, CODG_USU_IMPRESION, ANIO_HOJA, FECH_IMPRESION, NUMR_FORM_ANTERIOR,
      FECH_ENTREGA, CODG_DISTRITO_JUDICIAL, INDC_URGENTE, CODG_USU_FIRMA, X_CODG_LUGAR_NAC,
      SERIE_HOJA, f_aud, ____b_aud, c_aud_uid, c_aud_pc, n_aud_ip, c_aud_mcaddr, c_aud_lgnred,
      VENTANILLA, L_INDC_OFICIO, L_FEC_NAC, l_nro_modifica, pk_alternativo, NUMR_HOJA_FIN,
      l_autoriza, l_usuar_aut, fech_aut,DES_DELITO,INDC_MAGISTRADO,
      idTipoDocumentoAutorizacion,documentoAutorizacionValidado, L_NACIDO_EXTERIOR, LUGAR_NACIMIENTO)
    VALUES (#CODG_CERTI:CHAR#, #NUME_CERTI:CHAR#, #APLL_PATER_SOLIC:VARCHAR#,
      #APLL_MATER_SOLIC:VARCHAR#, #NOM1_SOLIC:VARCHAR#, #NOM2_SOLIC:VARCHAR#, #NOM3_SOLIC:VARCHAR#,
      #NOM4_SOLIC:VARCHAR#, #NOM5_SOLIC:VARCHAR#, #TIPO_SOLIC:CHAR#, #MOTI_SOLIC:CHAR#,
      #DOCU_IDENT_SOLIC:CHAR#, #NUME_IDENT_SOLIC:CHAR#, #NUME_JUZGA:CHAR#, #CODG_JUZGAD:CHAR#,
      #CODG_LUGAR:CHAR#, #NOMB_JUZGA_SOLIC:VARCHAR#, #NUME_EXPED_SOLIC:VARCHAR#,
      #FECH_NACIM_SOLIC:TIMESTAMP#, #CODG_USUAR:VARCHAR#, #n_VECES:INTEGER#, #MARCA:CHAR#,
      #DESC_JUZGA_SOLIC:VARCHAR#, #FECH_DIGIT_SOLIC:TIMESTAMP#, #INDC_PROCE_SOLIC:CHAR#,
      #v_DES_OFICIOx:VARCHAR#, #v_DES_DISTRITOx:VARCHAR#, #DESC_TASA:VARCHAR#,
      #CODG_USU_FOTO:VARCHAR#, #FECH_FOTO:TIMESTAMP#, #RUTA_FOTO:VARCHAR#, #CODG_ESTADO_FOTO:CHAR#,
      #CODG_TIPO_ORIGEN:CHAR#, #OBSERVACION:VARCHAR#, #CODG_ESTADO_SOLICITUD:CHAR#,
      #CODG_USU_REGISTRO:CHAR#, #FECH_REGISTRO:TIMESTAMP#, #CODG_USU_ULT_MODI:CHAR#,
      #FECH_ULT_MODI:TIMESTAMP#, #DESC_FEC_USU_MODI:VARCHAR#, #NOM_PADRE:VARCHAR#,
      #NOM_MADRE:VARCHAR#, #NOM_APODERADO:VARCHAR#, #INDC_PROVINCIA:VARCHAR#, #INDC_ANULADO:CHAR#,
      #CODG_USU_ANULACION:CHAR#, #FECH_ANULACION:TIMESTAMP#, #DESC_ANULACION:VARCHAR#,
      #v_DES_OFICIO:VARCHAR#, #v_DES_DISTRITO:VARCHAR#,
      #NOMB_JUZGA_SOLIC1:VARCHAR#, #NUMR_IMPRESION:INTEGER#, #CODG_USU_IMPRESION:CHAR#,
      #ANIO_HOJA:INTEGER#, #FECH_IMPRESION:TIMESTAMP#, #NUMR_FORM_ANTERIOR:CHAR#,
      #FECH_ENTREGA:TIMESTAMP#, #CODG_DISTRITO_JUDICIAL:CHAR#, #INDC_URGENTE:CHAR#,
      #CODG_USU_FIRMA:CHAR#, #x_CODG_LUGAR_NAC:CHAR#, #SERIE_HOJA:VARCHAR#, #f_aud:TIMESTAMP#,
      #____b_aud:CHAR#, #c_aud_uid:VARCHAR#, #c_aud_pc:VARCHAR#, #n_aud_ip:VARCHAR#,
      #c_aud_mcaddr:VARCHAR#, #c_aud_lgnred:VARCHAR#, #VENTANILLA:CHAR#, #l_INDC_OFICIO:CHAR#,
      #l_FEC_NAC:CHAR#, #l_nro_modifica:INTEGER#, #pk_alternativo:VARCHAR#, #NUMR_HOJA_FIN:CHAR#,
      #l_autoriza:CHAR#, #l_usuar_aut:CHAR#, #fech_aut:TIMESTAMP#,#DES_DELITO:VARCHAR#,#INDC_MAGISTRADO:CHAR#,
      #idTipoDocumentoAutorizacion:INTEGER#,#documentoAutorizacionValidado:CHAR#, #flagNacidoExterior:CHAR#, #lugarNacimiento:VARCHAR#)
  </insert>
  <update id="abatorgenerated_updateByPrimaryKey" parameterClass="pe.gob.pj.rnc.model.Solicitud">
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Tue May 22 12:17:00 GMT-05:00 2007.
    -->
    update SOLICITUDES_PROVINCIA
    set NUME_CERTI = #NUME_CERTI:CHAR#,
      APLL_PATER_SOLIC = #APLL_PATER_SOLIC:VARCHAR#,
      APLL_MATER_SOLIC = #APLL_MATER_SOLIC:VARCHAR#,
      NOM1_SOLIC = #NOM1_SOLIC:VARCHAR#,
      NOM2_SOLIC = #NOM2_SOLIC:VARCHAR#,
      NOM3_SOLIC = #NOM3_SOLIC:VARCHAR#,
      NOM4_SOLIC = #NOM4_SOLIC:VARCHAR#,
      NOM5_SOLIC = #NOM5_SOLIC:VARCHAR#,
      TIPO_SOLIC = #TIPO_SOLIC:CHAR#,
      MOTI_SOLIC = #MOTI_SOLIC:CHAR#,
      DOCU_IDENT_SOLIC = #DOCU_IDENT_SOLIC:CHAR#,
      NUME_IDENT_SOLIC = #NUME_IDENT_SOLIC:CHAR#,
      NUME_JUZGA = #NUME_JUZGA:CHAR#,
      CODG_JUZGAD = #CODG_JUZGAD:CHAR#,
      CODG_LUGAR = #CODG_LUGAR:CHAR#,
      NOMB_JUZGA_SOLIC = #NOMB_JUZGA_SOLIC:VARCHAR#,
      NUME_EXPED_SOLIC = #NUME_EXPED_SOLIC:VARCHAR#,
      FECH_NACIM_SOLIC = #FECH_NACIM_SOLIC:TIMESTAMP#,
      CODG_USUAR = #CODG_USUAR:VARCHAR#,
      N_VECES = #n_VECES:INTEGER#,
      MARCA = #MARCA:CHAR#,
      DESC_JUZGA_SOLIC = #DESC_JUZGA_SOLIC:VARCHAR#,
      FECH_DIGIT_SOLIC = #FECH_DIGIT_SOLIC:TIMESTAMP#,
      INDC_PROCE_SOLIC = #INDC_PROCE_SOLIC:CHAR#,
      V_DES_OFICIOx = #v_DES_OFICIOx:VARCHAR#,
      V_DES_DISTRITOx = #v_DES_DISTRITOx:VARCHAR#,
      DESC_TASA = #DESC_TASA:VARCHAR#,
      CODG_USU_FOTO = #CODG_USU_FOTO:VARCHAR#,
      FECH_FOTO = #FECH_FOTO:TIMESTAMP#,
      RUTA_FOTO = #RUTA_FOTO:VARCHAR#,
      CODG_ESTADO_FOTO = #CODG_ESTADO_FOTO:CHAR#,
      CODG_TIPO_ORIGEN = #CODG_TIPO_ORIGEN:CHAR#,
      OBSERVACION = #OBSERVACION:VARCHAR#,
      CODG_ESTADO_SOLICITUD = #CODG_ESTADO_SOLICITUD:CHAR#,
      CODG_USU_REGISTRO = #CODG_USU_REGISTRO:CHAR#,
      FECH_REGISTRO = #FECH_REGISTRO:TIMESTAMP#,
      CODG_USU_ULT_MODI = #CODG_USU_ULT_MODI:CHAR#,
      FECH_ULT_MODI = #FECH_ULT_MODI:TIMESTAMP#,
      DESC_FEC_USU_MODI = #DESC_FEC_USU_MODI:VARCHAR#,
      NOM_PADRE = #NOM_PADRE:VARCHAR#,
      NOM_MADRE = #NOM_MADRE:VARCHAR#,
      NOM_APODERADO = #NOM_APODERADO:VARCHAR#,
      INDC_PROVINCIA = #INDC_PROVINCIA:VARCHAR#,
      INDC_ANULADO = #INDC_ANULADO:CHAR#,
      CODG_USU_ANULACION = #CODG_USU_ANULACION:CHAR#,
      FECH_ANULACION = #FECH_ANULACION:TIMESTAMP#,
      DESC_ANULACION = #DESC_ANULACION:VARCHAR#,
      V_DES_OFICIO = #v_DES_OFICIO:VARCHAR#,
      V_DES_DISTRITO = #v_DES_DISTRITO:VARCHAR#,
      NOMB_JUZGA_SOLIC1 = #NOMB_JUZGA_SOLIC1:VARCHAR#,
      NUMR_IMPRESION = #NUMR_IMPRESION:INTEGER#,
      CODG_USU_IMPRESION = #CODG_USU_IMPRESION:CHAR#,
      ANIO_HOJA = #ANIO_HOJA:INTEGER#,
      FECH_IMPRESION = #FECH_IMPRESION:TIMESTAMP#,
      NUMR_FORM_ANTERIOR = #NUMR_FORM_ANTERIOR:CHAR#,
      FECH_ENTREGA = #FECH_ENTREGA:TIMESTAMP#,
      CODG_DISTRITO_JUDICIAL = #CODG_DISTRITO_JUDICIAL:CHAR#,
      INDC_URGENTE = #INDC_URGENTE:CHAR#,
      CODG_USU_FIRMA = #CODG_USU_FIRMA:CHAR#,
      X_CODG_LUGAR_NAC = #x_CODG_LUGAR_NAC:CHAR#,
      SERIE_HOJA = #SERIE_HOJA:VARCHAR#,
      f_aud = #f_aud:TIMESTAMP#,
      ____b_aud = #____b_aud:CHAR#,
      c_aud_uid = #c_aud_uid:VARCHAR#,
      c_aud_pc = #c_aud_pc:VARCHAR#,
      n_aud_ip = #n_aud_ip:VARCHAR#,
      c_aud_mcaddr = #c_aud_mcaddr:VARCHAR#,
      c_aud_lgnred = #c_aud_lgnred:VARCHAR#,
      VENTANILLA = #VENTANILLA:CHAR#,
      L_INDC_OFICIO = #l_INDC_OFICIO:CHAR#,
      L_FEC_NAC = #l_FEC_NAC:CHAR#,
      l_nro_modifica = #l_nro_modifica:INTEGER#,
      pk_alternativo = #pk_alternativo:VARCHAR#,
      NUMR_HOJA_FIN = #NUMR_HOJA_FIN:CHAR#,
      l_autoriza = #l_autoriza:CHAR#,
      l_usuar_aut = #l_usuar_aut:CHAR#,
      fech_aut = #fech_aut:TIMESTAMP#,
      DES_DELITO = #DES_DELITO:VARCHAR#,
      INDC_MAGISTRADO = #INDC_MAGISTRADO:CHAR#
    where CODG_CERTI = #CODG_CERTI:CHAR#
  </update>
  <update id="abatorgenerated_updateByPrimaryKeySelective" parameterClass="pe.gob.pj.rnc.model.Solicitud">
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Tue May 22 12:17:00 GMT-05:00 2007.
    -->
    update SOLICITUDES_PROVINCIA
    <dynamic prepend="set">
      <isNotNull prepend="," property="NUME_CERTI">
        NUME_CERTI = #NUME_CERTI:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="APLL_PATER_SOLIC">
        APLL_PATER_SOLIC = #APLL_PATER_SOLIC:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="APLL_MATER_SOLIC">
        APLL_MATER_SOLIC = #APLL_MATER_SOLIC:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="NOM1_SOLIC">
        NOM1_SOLIC = #NOM1_SOLIC:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="NOM2_SOLIC">
        NOM2_SOLIC = #NOM2_SOLIC:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="NOM3_SOLIC">
        NOM3_SOLIC = #NOM3_SOLIC:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="NOM4_SOLIC">
        NOM4_SOLIC = #NOM4_SOLIC:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="NOM5_SOLIC">
        NOM5_SOLIC = #NOM5_SOLIC:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="TIPO_SOLIC">
        TIPO_SOLIC = #TIPO_SOLIC:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="MOTI_SOLIC">
        MOTI_SOLIC = #MOTI_SOLIC:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="DOCU_IDENT_SOLIC">
        DOCU_IDENT_SOLIC = #DOCU_IDENT_SOLIC:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="NUME_IDENT_SOLIC">
        NUME_IDENT_SOLIC = #NUME_IDENT_SOLIC:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="NUME_JUZGA">
        NUME_JUZGA = #NUME_JUZGA:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="CODG_JUZGAD">
        CODG_JUZGAD = #CODG_JUZGAD:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="CODG_LUGAR">
        CODG_LUGAR = #CODG_LUGAR:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="NOMB_JUZGA_SOLIC">
        NOMB_JUZGA_SOLIC = #NOMB_JUZGA_SOLIC:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="NUME_EXPED_SOLIC">
        NUME_EXPED_SOLIC = #NUME_EXPED_SOLIC:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="FECH_NACIM_SOLIC">
        FECH_NACIM_SOLIC = #FECH_NACIM_SOLIC:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="CODG_USUAR">
        CODG_USUAR = #CODG_USUAR:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="N_VECES">
        N_VECES = #n_VECES:INTEGER#
      </isNotNull>
      <isNotNull prepend="," property="MARCA">
        MARCA = #MARCA:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="DESC_JUZGA_SOLIC">
        DESC_JUZGA_SOLIC = #DESC_JUZGA_SOLIC:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="FECH_DIGIT_SOLIC">
        FECH_DIGIT_SOLIC = #FECH_DIGIT_SOLIC:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="INDC_PROCE_SOLIC">
        INDC_PROCE_SOLIC = #INDC_PROCE_SOLIC:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="V_DES_OFICIOx">
        V_DES_OFICIOx = #v_DES_OFICIOx:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="V_DES_DISTRITOx">
        V_DES_DISTRITOx = #v_DES_DISTRITOx:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="DESC_TASA">
        DESC_TASA = #DESC_TASA:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="CODG_USU_FOTO">
        CODG_USU_FOTO = #CODG_USU_FOTO:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="FECH_FOTO">
        FECH_FOTO = #FECH_FOTO:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="RUTA_FOTO">
        RUTA_FOTO = #RUTA_FOTO:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="CODG_ESTADO_FOTO">
        CODG_ESTADO_FOTO = #CODG_ESTADO_FOTO:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="CODG_TIPO_ORIGEN">
        CODG_TIPO_ORIGEN = #CODG_TIPO_ORIGEN:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="OBSERVACION">
        OBSERVACION = #OBSERVACION:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="CODG_ESTADO_SOLICITUD">
        CODG_ESTADO_SOLICITUD = #CODG_ESTADO_SOLICITUD:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="CODG_USU_REGISTRO">
        CODG_USU_REGISTRO = #CODG_USU_REGISTRO:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="FECH_REGISTRO">
        FECH_REGISTRO = #FECH_REGISTRO:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="CODG_USU_ULT_MODI">
        CODG_USU_ULT_MODI = #CODG_USU_ULT_MODI:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="FECH_ULT_MODI">
        FECH_ULT_MODI = #FECH_ULT_MODI:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="DESC_FEC_USU_MODI">
        DESC_FEC_USU_MODI = #DESC_FEC_USU_MODI:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="NOM_PADRE">
        NOM_PADRE = #NOM_PADRE:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="NOM_MADRE">
        NOM_MADRE = #NOM_MADRE:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="NOM_APODERADO">
        NOM_APODERADO = #NOM_APODERADO:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="INDC_PROVINCIA">
        INDC_PROVINCIA = #INDC_PROVINCIA:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="INDC_ANULADO">
        INDC_ANULADO = #INDC_ANULADO:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="CODG_USU_ANULACION">
        CODG_USU_ANULACION = #CODG_USU_ANULACION:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="FECH_ANULACION">
        FECH_ANULACION = #FECH_ANULACION:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="DESC_ANULACION">
        DESC_ANULACION = #DESC_ANULACION:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="NUMR_HOJA">
        NUMR_HOJA = #NUMR_HOJA:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="V_DES_OFICIO">
        V_DES_OFICIO = #v_DES_OFICIO:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="V_DES_DISTRITO">
        V_DES_DISTRITO = #v_DES_DISTRITO:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="NOMB_JUZGA_SOLIC1">
        NOMB_JUZGA_SOLIC1 = #NOMB_JUZGA_SOLIC1:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="NUMR_IMPRESION">
        NUMR_IMPRESION = #NUMR_IMPRESION:INTEGER#
      </isNotNull>
      <isNotNull prepend="," property="CODG_USU_IMPRESION">
        CODG_USU_IMPRESION = #CODG_USU_IMPRESION:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="ANIO_HOJA">
        ANIO_HOJA = #ANIO_HOJA:INTEGER#
      </isNotNull>
      <isNotNull prepend="," property="FECH_IMPRESION">
        FECH_IMPRESION = #FECH_IMPRESION:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="NUMR_FORM_ANTERIOR">
        NUMR_FORM_ANTERIOR = #NUMR_FORM_ANTERIOR:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="FECH_ENTREGA">
        FECH_ENTREGA = #FECH_ENTREGA:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="CODG_DISTRITO_JUDICIAL">
        CODG_DISTRITO_JUDICIAL = #CODG_DISTRITO_JUDICIAL:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="INDC_URGENTE">
        INDC_URGENTE = #INDC_URGENTE:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="CODG_USU_FIRMA">
        CODG_USU_FIRMA = #CODG_USU_FIRMA:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="X_CODG_LUGAR_NAC">
        X_CODG_LUGAR_NAC = #x_CODG_LUGAR_NAC:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="SERIE_HOJA">
        SERIE_HOJA = #SERIE_HOJA:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="f_aud">
        f_aud = #f_aud:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="____b_aud">
        ____b_aud = #____b_aud:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="c_aud_uid">
        c_aud_uid = #c_aud_uid:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="c_aud_pc">
        c_aud_pc = #c_aud_pc:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="n_aud_ip">
        n_aud_ip = #n_aud_ip:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="c_aud_mcaddr">
        c_aud_mcaddr = #c_aud_mcaddr:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="c_aud_lgnred">
        c_aud_lgnred = #c_aud_lgnred:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="VENTANILLA">
        VENTANILLA = #VENTANILLA:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="L_INDC_OFICIO">
        L_INDC_OFICIO = #l_INDC_OFICIO:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="L_FEC_NAC">
        L_FEC_NAC = #l_FEC_NAC:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="l_nro_modifica">
        l_nro_modifica = #l_nro_modifica:INTEGER#
      </isNotNull>
      <isNotNull prepend="," property="pk_alternativo">
        pk_alternativo = #pk_alternativo:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="NUMR_HOJA_FIN">
        NUMR_HOJA_FIN = #NUMR_HOJA_FIN:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="l_autoriza">
        l_autoriza = #l_autoriza:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="l_usuar_aut">
        l_usuar_aut = #l_usuar_aut:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="fech_aut">
        fech_aut = #fech_aut:TIMESTAMP#
      </isNotNull>
      <isNotNull prepend="," property="DES_DELITO">
        DES_DELITO = #DES_DELITO:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="INDC_MAGISTRADO">
        INDC_MAGISTRADO = #INDC_MAGISTRADO:CHAR#
      </isNotNull>


    </dynamic>
    where CODG_CERTI = #CODG_CERTI#
  </update>


  <update id="usergenerated_updateByPrimaryKeySolicitudesProvincia" parameterClass="map">
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Tue May 22 12:17:00 GMT-05:00 2007.
    -->
    UPDATE SOLICITUDES_PROVINCIA
    SET CODG_ESTADO_SOLICITUD = #CODG_ESTADO_SOLICITUD:CHAR#,
    CODG_USU_ULT_MODI = #CODG_USU_ULT_MODI:CHAR#
    <!-- Inicio erodriguezbu -->
    , FECH_IMPRESION = #FECH_IMPRESION:TIMESTAMP#
    <!-- Fin erodriguezbu -->
    WHERE CODG_CERTI IN (
	SELECT CODG_CERTI
	FROM SOLICITUD_EXTERNA_ITEM SEI
	WHERE SOLICITUDES_PROVINCIA.CODG_CERTI = SEI.CODG_CERTI
	AND SEI.CODG_CERTI_EXTERNO = #CODG_CERTI_EXTERNO:INTEGER#
	AND SEI.INDC_DESCARTE = #INDC_DESCARTE:CHAR#
    )
  </update>


   <update id="usergenerated_updateByPrimaryKeySoli" parameterClass="map">
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Tue May 22 12:17:00 GMT-05:00 2007.
    -->
    UPDATE SOLICITUDES_PROVINCIA
    SET CODG_ESTADO_SOLICITUD = #CODG_ESTADO_SOLICITUD:CHAR#,
    CODG_USU_ULT_MODI = #CODG_USU_ULT_MODI:CHAR#,
    FECH_ULT_MODI= #FECH_ULT_MODI:TIMESTAMP#,
    FECH_IMPRESION = #FECH_IMPRESION:TIMESTAMP#,
    CODG_USU_IMPRESION  = #CODG_USU_IMPRESION:CHAR#,
    NUMR_IMPRESION = #NUMR_IMPRESION:INTEGER#
    WHERE CODG_CERTI = #CODG_CERTI:CHAR#
  </update>

<!-- Inicio erodriguezbu -->
  <update id="updateByPrimaryKeySolicitudSelective" parameterClass="map">
    UPDATE SOLICITUDES_PROVINCIA
    <dynamic prepend="set">
      <isNotNull prepend="," property="NUME_CERTI">
        NUME_CERTI = #NUME_CERTI:CHAR#
      </isNotNull>
      <isNotNull prepend="," property="pk_alternativo">
        pk_alternativo = #pk_alternativo:VARCHAR#
      </isNotNull>
    </dynamic>
    WHERE CODG_CERTI = #CODG_CERTI:CHAR#
  </update>

  <select id="solicitudesPorCertifExt" parameterClass="Integer" resultClass="pe.gob.pj.rnc.model.Solicitud">
	SELECT SP.CODG_CERTI, DESC_ESTADO DESC_ESTADO_SOLICITUD,
	FECH_REGISTRO,	APLL_PATER_SOLIC, APLL_MATER_SOLIC, NOM1_SOLIC,	NOM2_SOLIC, NOM3_SOLIC,'' DES_ESTADO_IMPRESION, NUMR_IMPRESION, DESC_FEC_USU_MODI
	FROM SOLICITUD_EXTERNA_ITEM SEI
	INNER JOIN SOLICITUDES_PROVINCIA SP ON SP.CODG_CERTI = SEI.CODG_CERTI
	INNER JOIN ESTADO_SOLICITUD_CERTIFICADO ESC ON SP.CODG_ESTADO_SOLICITUD = ESC.CODG_ESTADO
	WHERE SEI.CODG_CERTI_EXTERNO = #value#
	ORDER BY DESC_ESTADO_SOLICITUD
  </select>

  <resultMap class="pe.gob.pj.rnc.model.SolicitudReporte" id="resultMapReporte" groupBy="codg_certi">
  	<result column="CODG_CERTI" jdbcType="CHAR" property="codg_certi"/>
  	<result column="NUME_CERTI" jdbcType="CHAR" property="nume_certi"/>
  	<result column="APLL_PATER_SOLIC" jdbcType="VARCHAR" property="apll_pater_solic"/>
  	<result column="APLL_MATER_SOLIC" jdbcType="VARCHAR" property="apll_mater_solic"/>
  	<result column="FECH_NACIM_SOLIC" jdbcType="TIMESTAMP" property="fech_nacim_solic"/>
  	<result column="NOM1_SOLIC" jdbcType="VARCHAR" property="nom1_solic"/>
  	<result column="NOM2_SOLIC" jdbcType="VARCHAR" property="nom2_solic"/>
    <result column="NOM3_SOLIC" jdbcType="VARCHAR" property="nom3_solic"/>
    <result column="NOM4_SOLIC" jdbcType="VARCHAR" property="nom4_solic"/>
    <result column="NOM5_SOLIC" jdbcType="VARCHAR" property="nom5_solic"/>
    <result column="NOM_PADRE" jdbcType="VARCHAR" property="nom_padre"/>
    <result column="NOM_MADRE" jdbcType="VARCHAR" property="nom_madre"/>
    <result column="NUME_IDENT_SOLIC" jdbcType="CHAR" property="nume_ident_solic"/>
    <result column="L_NACIDO_EXTERIOR" jdbcType="CHAR" property="flagNacidoExterior"/>
    <result column="LUGAR_NACIMIENTO" jdbcType="VARCHAR" property="lugarNacimiento"/>
    <result column="CODG_ESTADO_SOLICITUD" jdbcType="CHAR" property="codg_estado_solicitud"/>
    <result column="doc_abreviatura" jdbcType="VARCHAR" property="doc_abreviatura"/>
    <result column="dep_descripcion" jdbcType="VARCHAR" property="dep_descripcion"/>
    <result column="NUME_EXPED_SOLIC" jdbcType="VARCHAR" property="nume_exped_solic"/>
    <result column="CODG_USUAR" jdbcType="VARCHAR" property="codg_usuar"/>
    <result column="TIPO_SOLIC" jdbcType="CHAR" property="tipo_solic"/>
    <result column="FECH_DIGIT_SOLIC" jdbcType="TIMESTAMP" property="fech_digit_solic"/>
    <result column="FECH_IMPRESION" jdbcType="TIMESTAMP" property="fech_impresion"/>
    <result column="DESC_JUZGA_SOLIC" jdbcType="VARCHAR" property="desc_juzga_solic"/>
    <result column="NOMB_JUZGA_SOLIC" jdbcType="VARCHAR" property="nomb_juzga_solic"/>
    <result column="SOL_FIRMA_CODIGO" jdbcType="VARCHAR" property="sol_firma_codigo"/>
    <result column="SOL_FIRMA_NOMBRE" jdbcType="VARCHAR" property="sol_firma_nombre"/>
    <result column="SOL_FIRMA_SUMILLA" jdbcType="VARCHAR" property="sol_firma_sumilla"/>
    <result property="boletinAntecedentes" resultMap="SOLICITUDES_PROVINCIA.resultMapBoletin"/>
  </resultMap>

  <resultMap class="pe.gob.pj.rnc.model.BoletinReporte" id="resultMapBoletin">
    <result column="NUMR_BOLETN" jdbcType="NUMERIC" property="numr_boletn"/>
    <result column="NUME_EXPTE_BOLETN" jdbcType="VARCHAR" property="nume_expte_boletn"/>
    <result column="FECH_PRONU_BOLETN" jdbcType="CHAR" property="fech_pronu_boletn"/>
    <result column="INDC_REHABILITADO" jdbcType="CHAR" property="indc_rehabilitado"/>
    <result column="FECH_NACIM_BOLETN" jdbcType="CHAR" property="fech_nacim_boletn"/>
    <result column="FECH_INICI_CONDEN" jdbcType="TIMESTAMP" property="fech_inici_conden"/>
    <result column="DELITO1" jdbcType="VARCHAR" property="delito1"/>
    <result column="DELITO2" jdbcType="VARCHAR" property="delito2"/>
    <result column="DELITO3" jdbcType="VARCHAR" property="delito3"/>
    <result column="DELITO4" jdbcType="VARCHAR" property="delito4"/>
    <result column="DELITO5" jdbcType="VARCHAR" property="delito5"/>
    <result column="ANNO_PENA_BOLETN" jdbcType="NUMERIC" property="anno_pena_boletn"/>
    <result column="MESS_PENA_BOLETN" jdbcType="NUMERIC" property="mess_pena_boletn"/>
    <result column="DIAA_PENA_BOLETN" jdbcType="NUMERIC" property="diaa_pena_boletn"/>
	<result column="FECH_FIN_CONDEN" jdbcType="TIMESTAMP" property="fech_fin_conden"/>
	<result column="DESC_PENA" jdbcType="VARCHAR" property="desc_pena"/>
	<result column="NUMR_BOLETN_REHAB" jdbcType="NUMERIC" property="numr_boletn_rehab"/>
	<result column="NUMR_INSTA_REHAB" jdbcType="CHAR" property="numr_insta_rehab"/>
    <result column="FECH_REHAB" jdbcType="CHAR" property="fech_rehab"/>
    <result column="instancia_rehab" jdbcType="VARCHAR" property="instancia_rehab"/>
    <result column="lugar_rehab" jdbcType="VARCHAR" property="lugar_rehab"/>
    <result column="NUMR_INSTA_BOLETN" jdbcType="CHAR" property="numr_insta_boletn"/>
    <result column="instancia_boletin" jdbcType="VARCHAR" property="instancia_boletin"/>
    <result column="lugar_boletin" jdbcType="VARCHAR" property="lugar_boletin"/>
  </resultMap>

  <resultMap class="pe.gob.pj.rnc.model.SolicitudReporte" id="resultMapSolicitudesRango">
  	<result column="CODG_CERTI" jdbcType="CHAR" property="codg_certi"/>
  	<result column="NUME_CERTI" jdbcType="CHAR" property="nume_certi"/>
  	<result column="APLL_PATER_SOLIC" jdbcType="VARCHAR" property="apll_pater_solic"/>
  	<result column="APLL_MATER_SOLIC" jdbcType="VARCHAR" property="apll_mater_solic"/>
  	<result column="FECH_NACIM_SOLIC" jdbcType="TIMESTAMP" property="fech_nacim_solic"/>
  	<result column="NOM1_SOLIC" jdbcType="VARCHAR" property="nom1_solic"/>
  	<result column="NOM2_SOLIC" jdbcType="VARCHAR" property="nom2_solic"/>
    <result column="NOM3_SOLIC" jdbcType="VARCHAR" property="nom3_solic"/>
    <result column="NOM4_SOLIC" jdbcType="VARCHAR" property="nom4_solic"/>
    <result column="NOM5_SOLIC" jdbcType="VARCHAR" property="nom5_solic"/>
    <result column="NOM_PADRE" jdbcType="VARCHAR" property="nom_padre"/>
    <result column="NOM_MADRE" jdbcType="VARCHAR" property="nom_madre"/>
    <result column="NUME_IDENT_SOLIC" jdbcType="CHAR" property="nume_ident_solic"/>
    <result column="doc_abreviatura" jdbcType="VARCHAR" property="doc_abreviatura"/>
    <result column="dep_descripcion" jdbcType="VARCHAR" property="dep_descripcion"/>
    <result column="NUME_EXPED_SOLIC" jdbcType="VARCHAR" property="nume_exped_solic"/>
    <result column="CODG_USUAR" jdbcType="VARCHAR" property="codg_usuar"/>
    <result column="TIPO_SOLIC" jdbcType="CHAR" property="tipo_solic"/>
    <result column="FECH_DIGIT_SOLIC" jdbcType="TIMESTAMP" property="fech_digit_solic"/>
    <result column="FECH_IMPRESION" jdbcType="TIMESTAMP" property="fech_impresion"/>
    <result column="DESC_JUZGA_SOLIC" jdbcType="VARCHAR" property="desc_juzga_solic"/>
    <result column="NOMB_JUZGA_SOLIC" jdbcType="VARCHAR" property="nomb_juzga_solic"/>
    <result column="SOL_FIRMA_CODIGO" jdbcType="VARCHAR" property="sol_firma_codigo"/>
    <result column="SOL_FIRMA_NOMBRE" jdbcType="VARCHAR" property="sol_firma_nombre"/>
    <result column="SOL_FIRMA_SUMILLA" jdbcType="VARCHAR" property="sol_firma_sumilla"/>
    <result column="CODG_ESTADO_SOLICITUD" jdbcType="CHAR" property="codg_estado_solicitud"/>
    <result column="CODG_DISTRITO_JUDICIAL" jdbcType="CHAR" property="codg_distrito_judicial"/>
    <result column="DESC_DISTRITO_JUDICIAL" jdbcType="VARCHAR" property="desc_distrito_judicial"/>
  </resultMap>


  <select id="reporteSolicitudMagistrado" parameterClass="String" resultMap="resultMapReporte">
  	SELECT sp.CODG_CERTI, sp.NUME_CERTI, sp.APLL_PATER_SOLIC, sp.APLL_MATER_SOLIC, sp.FECH_NACIM_SOLIC, sp.NOM1_SOLIC, sp.NOM2_SOLIC,
  	sp.NOM3_SOLIC, sp.NOM4_SOLIC, sp.NOM5_SOLIC, sp.NOM_PADRE, sp.NOM_MADRE, sp.NUME_IDENT_SOLIC, sp.NUME_EXPED_SOLIC,
  	sp.CODG_USUAR, sp.TIPO_SOLIC, sp.FECH_DIGIT_SOLIC, sp.FECH_IMPRESION, sp.DESC_JUZGA_SOLIC, sp.NOMB_JUZGA_SOLIC,sp.CODG_ESTADO_SOLICITUD,
  	sp.L_NACIDO_EXTERIOR, sp.LUGAR_NACIMIENTO,
	di.abreviatura doc_abreviatura, d.DESC_LUGAR dep_descripcion,
	firma.CODG_USU_FIRMA sol_firma_codigo, firma.DESC_NOMBRE sol_firma_nombre, firma.DESC_SUMILLA sol_firma_sumilla,
	bol.NUMR_BOLETN, bol.NUME_EXPTE_BOLETN, bol.FECH_PRONU_BOLETN, bol.INDC_REHABILITADO, bol.FECH_NACIM_BOLETN, bol.FECH_INICI_CONDEN,
	(SELECT lower(DELITO.DESC_DELIT) FROM DELITO WHERE DELITO.CODG_DELIT=bol.CODG_DELIT) AS DELITO1,
	(SELECT lower(DELITO.DESC_DELIT) FROM DELITO WHERE DELITO.CODG_DELIT=bol.CODG_DELIT2) AS DELITO2,
	(SELECT lower(DELITO.DESC_DELIT) FROM DELITO WHERE DELITO.CODG_DELIT=bol.CODG_DELIT3) AS DELITO3,
	(SELECT lower(DELITO.DESC_DELIT) FROM DELITO WHERE DELITO.CODG_DELIT=bol.CODG_DELIT4) AS DELITO4,
	(SELECT lower(DELITO.DESC_DELIT) FROM DELITO WHERE DELITO.CODG_DELIT=bol.CODG_DELIT5) AS DELITO5,
     bol.ANNO_PENA_BOLETN, bol.MESS_PENA_BOLETN, bol.DIAA_PENA_BOLETN, bol.FECH_FIN_CONDEN, bol.NUMR_INSTA_BOLETN,
    upper((SELECT RTRIM(T.DESC_TIPO_PRONU) FROM TIPO_PRONUNCIAMIENTO T WHERE T.TIPO_PRONU = bol.TIPO_PRONU)) instancia_boletin,
    upper((SELECT D.DESC_LUGAR FROM DEPARTAMENTO D WHERE D.CODG_LUGAR = bol.CODG_LUGAR)) lugar_boletin,
	(SELECT DESC_PENA FROM PENA WHERE CODG_PENA = bol.CODG_PENA) AS DESC_PENA,
	r.NUMR_BOLETN_REHAB, r.NUMR_INSTA_REHAB, r.FECH_REHAB,
	upper((SELECT T.DESC_TIPO_PRONU FROM TIPO_PRONUNCIAMIENTO T WHERE T.TIPO_PRONU = r.TIPO_PRONU)) instancia_rehab,
	upper((SELECT DT.DESC_LUGAR FROM DEPARTAMENTO DT WHERE DT.CODG_LUGAR = r.CODG_LUGAR)) lugar_rehab
	FROM SOLICITUDES_PROVINCIA sp
	LEFT JOIN FIRMA_AUTORIZADA firma ON sp.CODG_USU_FIRMA = firma.CODG_USU_FIRMA
	LEFT JOIN documentos_de_identidad di ON sp.DOCU_IDENT_SOLIC = di.codigo_tipo_documento
	LEFT JOIN DEPARTAMENTO d ON sp.X_CODG_LUGAR_NAC = d.CODG_LUGAR
	LEFT JOIN CERTIFICADO_BOLETIN cb ON cb.CODG_CERTI = sp.CODG_CERTI AND cb.CODG_CORRESP_BOLETIN = 'S'
	LEFT JOIN BOLETIN bol ON cb.NUMR_BOLETN = bol.NUMR_BOLETN
	LEFT JOIN REHABILITADOS r ON bol.INDC_REHABILITADO='S' AND bol.NUMR_BOLETN = r.NUMR_BOLETN_REHAB
	WHERE sp.CODG_CERTI = #value:CHAR#
	ORDER BY sp.APLL_PATER_SOLIC, sp.APLL_MATER_SOLIC, sp.NOM1_SOLIC, bol.FECH_PRONU_BOLETN
  </select>

  <select id="reporteSolicitudMagistradoParams" parameterClass="Map" resultMap="resultMapReporte">
  	SELECT sp.CODG_CERTI, sp.NUME_CERTI, sp.APLL_PATER_SOLIC, sp.APLL_MATER_SOLIC, sp.FECH_NACIM_SOLIC, sp.NOM1_SOLIC, sp.NOM2_SOLIC,
  	sp.NOM3_SOLIC, sp.NOM4_SOLIC, sp.NOM5_SOLIC, sp.NOM_PADRE, sp.NOM_MADRE, sp.NUME_IDENT_SOLIC, sp.NUME_EXPED_SOLIC,
  	sp.CODG_USUAR, sp.TIPO_SOLIC, sp.FECH_DIGIT_SOLIC, sp.FECH_IMPRESION, sp.DESC_JUZGA_SOLIC, sp.NOMB_JUZGA_SOLIC,sp.CODG_ESTADO_SOLICITUD,
  	sp.L_NACIDO_EXTERIOR, sp.LUGAR_NACIMIENTO,
	di.abreviatura doc_abreviatura, d.DESC_LUGAR dep_descripcion,
	firma.CODG_USU_FIRMA sol_firma_codigo, firma.DESC_NOMBRE sol_firma_nombre, firma.DESC_SUMILLA sol_firma_sumilla,
	bol.NUMR_BOLETN, bol.NUME_EXPTE_BOLETN, bol.FECH_PRONU_BOLETN, bol.INDC_REHABILITADO, bol.FECH_NACIM_BOLETN, bol.FECH_INICI_CONDEN,
	(SELECT lower(DELITO.DESC_DELIT) FROM DELITO WHERE DELITO.CODG_DELIT=bol.CODG_DELIT) AS DELITO1,
	(SELECT lower(DELITO.DESC_DELIT) FROM DELITO WHERE DELITO.CODG_DELIT=bol.CODG_DELIT2) AS DELITO2,
	(SELECT lower(DELITO.DESC_DELIT) FROM DELITO WHERE DELITO.CODG_DELIT=bol.CODG_DELIT3) AS DELITO3,
	(SELECT lower(DELITO.DESC_DELIT) FROM DELITO WHERE DELITO.CODG_DELIT=bol.CODG_DELIT4) AS DELITO4,
	(SELECT lower(DELITO.DESC_DELIT) FROM DELITO WHERE DELITO.CODG_DELIT=bol.CODG_DELIT5) AS DELITO5,
     bol.ANNO_PENA_BOLETN, bol.MESS_PENA_BOLETN, bol.DIAA_PENA_BOLETN, bol.FECH_FIN_CONDEN, bol.NUMR_INSTA_BOLETN,
    upper((SELECT RTRIM(T.DESC_TIPO_PRONU) FROM TIPO_PRONUNCIAMIENTO T WHERE T.TIPO_PRONU = bol.TIPO_PRONU)) instancia_boletin,
    upper((SELECT D.DESC_LUGAR FROM DEPARTAMENTO D WHERE D.CODG_LUGAR = bol.CODG_LUGAR)) lugar_boletin,
	(SELECT DESC_PENA FROM PENA WHERE CODG_PENA = bol.CODG_PENA) AS DESC_PENA,
	r.NUMR_BOLETN_REHAB, r.NUMR_INSTA_REHAB, r.FECH_REHAB,
	upper((SELECT T.DESC_TIPO_PRONU FROM TIPO_PRONUNCIAMIENTO T WHERE T.TIPO_PRONU = r.TIPO_PRONU)) instancia_rehab,
	upper((SELECT DT.DESC_LUGAR FROM DEPARTAMENTO DT WHERE DT.CODG_LUGAR = r.CODG_LUGAR)) lugar_rehab
	FROM SOLICITUDES_PROVINCIA sp
	LEFT JOIN FIRMA_AUTORIZADA firma ON sp.CODG_USU_FIRMA = firma.CODG_USU_FIRMA
	LEFT JOIN documentos_de_identidad di ON sp.DOCU_IDENT_SOLIC = di.codigo_tipo_documento
	LEFT JOIN DEPARTAMENTO d ON sp.X_CODG_LUGAR_NAC = d.CODG_LUGAR
	LEFT JOIN CERTIFICADO_BOLETIN cb ON cb.CODG_CERTI = sp.CODG_CERTI AND cb.CODG_CORRESP_BOLETIN = 'S'
	LEFT JOIN BOLETIN bol ON cb.NUMR_BOLETN = bol.NUMR_BOLETN
	LEFT JOIN REHABILITADOS r ON bol.INDC_REHABILITADO='S' AND bol.NUMR_BOLETN = r.NUMR_BOLETN_REHAB
	<dynamic prepend="WHERE">
      <isNotNull prepend="AND" property="CODG_CERTI">
        sp.CODG_CERTI = #CODG_CERTI:CHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="NUME_CERTI">
        sp.NUME_CERTI = #NUME_CERTI:CHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="TIPO_SOLIC">
        sp.TIPO_SOLIC IN ('03','07')
      </isNotNull>
      <isNotNull prepend="AND" property="ANIO">
        YEAR(sp.FECH_REGISTRO) = #ANIO:INTEGER#
      </isNotNull>
      <isNotNull prepend="AND" property="MES">
        MONTH(sp.FECH_REGISTRO) = #MES:INTEGER#
      </isNotNull>
    </dynamic>
	ORDER BY sp.APLL_PATER_SOLIC, sp.APLL_MATER_SOLIC, sp.NOM1_SOLIC, bol.FECH_PRONU_BOLETN
  </select>


  <select id="delitosPorBoletin" parameterClass="Integer" resultClass="pe.gob.pj.rnc.model.DelitoReporte">
	SELECT d.CODG_DELIT codg_delit, d.DESC_DELIT desc_delit, bd.NUMR_DELITOS numr_delitos
	FROM BOLETIN_DELITOS bd
	LEFT JOIN DELITO d ON bd.CODG_DELITO = d.CODG_DELIT
	WHERE bd.NUMR_BOLETN = #value:INTEGER#
	ORDER BY bd.FECH_REGISTRO
  </select>
  <!-- REPORTE DE SOLICITUDES POR RANGO DE FECHAS (FISCALES Y MAGISTRADOS) -->
  <select id="reporteSolicitudesRangoFechas" parameterClass="Map" resultMap="resultMapSolicitudesRango">
	SELECT sp.CODG_CERTI, sp.NUME_CERTI, sp.APLL_PATER_SOLIC, sp.APLL_MATER_SOLIC, sp.FECH_NACIM_SOLIC, sp.NOM1_SOLIC, sp.NOM2_SOLIC,
  	sp.NOM3_SOLIC, sp.NOM4_SOLIC, sp.NOM5_SOLIC, sp.NOM_PADRE, sp.NOM_MADRE, sp.NUME_IDENT_SOLIC, sp.NUME_EXPED_SOLIC,
  	sp.CODG_USUAR, sp.TIPO_SOLIC, sp.FECH_DIGIT_SOLIC, sp.FECH_IMPRESION, sp.DESC_JUZGA_SOLIC, sp.NOMB_JUZGA_SOLIC, sp.CODG_ESTADO_SOLICITUD,
	di.abreviatura doc_abreviatura, null as dep_descripcion, null as sol_firma_codigo, null as sol_firma_nombre, null as sol_firma_sumilla,
	sp.CODG_DISTRITO_JUDICIAL, dj.DESC_DISTRITO_JUDICIAL
	FROM SOLICITUDES_PROVINCIA sp
	LEFT JOIN documentos_de_identidad di ON sp.DOCU_IDENT_SOLIC = di.codigo_tipo_documento
	LEFT JOIN DISTRITO_JUDICIAL dj ON dj.CODG_DISTRITO_JUDICIAL = sp.CODG_DISTRITO_JUDICIAL
	<dynamic prepend="WHERE">
	  <isNotNull prepend="AND" property="CODG_USUAR">
        sp.CODG_USUAR = #CODG_USUAR:VARCHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="INDC_MAGISTRADO">
        sp.INDC_MAGISTRADO = #INDC_MAGISTRADO:CHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="CODG_JUZGAD">
        sp.CODG_JUZGAD = #CODG_JUZGAD:CHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="NUME_JUZGA">
        sp.NUME_JUZGA = #NUME_JUZGA:CHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="CODG_DISTRITO_JUDICIAL">
        sp.CODG_DISTRITO_JUDICIAL = #CODG_DISTRITO_JUDICIAL:CHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="CODG_LUGAR">
        sp.CODG_LUGAR = #CODG_LUGAR:CHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="FECHA_DESDE">
        sp.FECH_DIGIT_SOLIC <![CDATA[ >= ]]> #FECHA_DESDE:DATE#
      </isNotNull>
      <isNotNull prepend="AND" property="FECHA_HASTA">
        sp.FECH_DIGIT_SOLIC <![CDATA[ < ]]> #FECHA_HASTA:DATE#
      </isNotNull>
    </dynamic>
	ORDER BY sp.FECH_DIGIT_SOLIC
  </select>
 
    <select id="buscarSolicitudPorNombreUsuarioFecha" parameterClass="pe.gob.pj.rnc.model.Solicitud" resultClass="pe.gob.pj.rnc.model.Solicitud">

    select SP.NUME_CERTI
    from SOLICITUDES_PROVINCIA SP
  	WHERE 
  	SP.APLL_PATER_SOLIC= #APLL_PATER_SOLIC:VARCHAR# 
   	AND SP.APLL_MATER_SOLIC=#APLL_MATER_SOLIC:VARCHAR# 
	AND SP.NOM1_SOLIC=#NOM1_SOLIC:VARCHAR# 
	AND SP.NOM2_SOLIC=#NOM2_SOLIC:VARCHAR# 
	AND SP.NOM3_SOLIC=#NOM3_SOLIC:VARCHAR# 
	AND SP.CODG_USUAR=#CODG_USUAR:VARCHAR# 
	AND YEAR(SP.FECH_REGISTRO)=#anio:INTEGER#  
	AND MONTH(SP.FECH_REGISTRO)=#mes:INTEGER#   
	AND DAY(SP.FECH_REGISTRO)=#dia:INTEGER#
	ORDER BY   SP.FECH_REGISTRO DESC
	   
  </select>

  <resultMap class="pe.gob.pj.rnc.model.SolicitudReporte" id="resultMapReporte1" >
  	<result column="CODG_CERTI" jdbcType="CHAR" property="codg_certi"/>
  	<result column="NUME_CERTI" jdbcType="CHAR" property="nume_certi"/>
  	<result column="APLL_PATER_SOLIC" jdbcType="VARCHAR" property="apll_pater_solic"/>
  	<result column="APLL_MATER_SOLIC" jdbcType="VARCHAR" property="apll_mater_solic"/>
  	<result column="FECH_NACIM_SOLIC" jdbcType="TIMESTAMP" property="fech_nacim_solic"/>
  	<result column="NOM1_SOLIC" jdbcType="VARCHAR" property="nom1_solic"/>
  	<result column="NOM2_SOLIC" jdbcType="VARCHAR" property="nom2_solic"/>
    <result column="NOM3_SOLIC" jdbcType="VARCHAR" property="nom3_solic"/>
    <result column="NOM4_SOLIC" jdbcType="VARCHAR" property="nom4_solic"/>
    <result column="NOM5_SOLIC" jdbcType="VARCHAR" property="nom5_solic"/>
    <result column="NOM_PADRE" jdbcType="VARCHAR" property="nom_padre"/>
    <result column="NOM_MADRE" jdbcType="VARCHAR" property="nom_madre"/>
    <result column="NUME_IDENT_SOLIC" jdbcType="CHAR" property="nume_ident_solic"/>
    <result column="L_NACIDO_EXTERIOR" jdbcType="CHAR" property="flagNacidoExterior"/>
    <result column="LUGAR_NACIMIENTO" jdbcType="VARCHAR" property="lugarNacimiento"/>
    <result column="CODG_ESTADO_SOLICITUD" jdbcType="CHAR" property="codg_estado_solicitud"/>
    <result column="doc_abreviatura" jdbcType="VARCHAR" property="doc_abreviatura"/>
    <result column="dep_descripcion" jdbcType="VARCHAR" property="dep_descripcion"/>
    <result column="NUME_EXPED_SOLIC" jdbcType="VARCHAR" property="nume_exped_solic"/>
    <result column="CODG_USUAR" jdbcType="VARCHAR" property="codg_usuar"/>
    <result column="TIPO_SOLIC" jdbcType="CHAR" property="tipo_solic"/>
    <result column="FECH_DIGIT_SOLIC" jdbcType="TIMESTAMP" property="fech_digit_solic"/>
    <result column="FECH_IMPRESION" jdbcType="TIMESTAMP" property="fech_impresion"/>
    <result column="DESC_JUZGA_SOLIC" jdbcType="VARCHAR" property="desc_juzga_solic"/>
    <result column="NOMB_JUZGA_SOLIC" jdbcType="VARCHAR" property="nomb_juzga_solic"/>
    <result column="SOL_FIRMA_CODIGO" jdbcType="VARCHAR" property="sol_firma_codigo"/>
    <result column="SOL_FIRMA_NOMBRE" jdbcType="VARCHAR" property="sol_firma_nombre"/>
    <result column="SOL_FIRMA_SUMILLA" jdbcType="VARCHAR" property="sol_firma_sumilla"/>
  </resultMap>

  <resultMap class="pe.gob.pj.rnc.model.BoletinReporte" id="resultMapBoletin1">
    <result column="NUMR_BOLETN" jdbcType="NUMERIC" property="numr_boletn"/>
    <result column="NUME_EXPTE_BOLETN" jdbcType="VARCHAR" property="nume_expte_boletn"/>
    <result column="FECH_PRONU_BOLETN" jdbcType="CHAR" property="fech_pronu_boletn"/>
    <result column="INDC_REHABILITADO" jdbcType="CHAR" property="indc_rehabilitado"/>
    <result column="FECH_NACIM_BOLETN" jdbcType="CHAR" property="fech_nacim_boletn"/>
    <result column="FECH_INICI_CONDEN" jdbcType="TIMESTAMP" property="fech_inici_conden"/>
    <result column="DELITO1" jdbcType="VARCHAR" property="delito1"/>
    <result column="DELITO2" jdbcType="VARCHAR" property="delito2"/>
    <result column="DELITO3" jdbcType="VARCHAR" property="delito3"/>
    <result column="DELITO4" jdbcType="VARCHAR" property="delito4"/>
    <result column="DELITO5" jdbcType="VARCHAR" property="delito5"/>
    <result column="ANNO_PENA_BOLETN" jdbcType="NUMERIC" property="anno_pena_boletn"/>
    <result column="MESS_PENA_BOLETN" jdbcType="NUMERIC" property="mess_pena_boletn"/>
    <result column="DIAA_PENA_BOLETN" jdbcType="NUMERIC" property="diaa_pena_boletn"/>
	<result column="FECH_FIN_CONDEN" jdbcType="TIMESTAMP" property="fech_fin_conden"/>
	<result column="DESC_PENA" jdbcType="VARCHAR" property="desc_pena"/>
	<result column="NUMR_BOLETN_REHAB" jdbcType="NUMERIC" property="numr_boletn_rehab"/>
	<result column="NUMR_INSTA_REHAB" jdbcType="CHAR" property="numr_insta_rehab"/>
    <result column="FECH_REHAB" jdbcType="CHAR" property="fech_rehab"/>
    <result column="instancia_rehab" jdbcType="VARCHAR" property="instancia_rehab"/>
    <result column="lugar_rehab" jdbcType="VARCHAR" property="lugar_rehab"/>
    <result column="NUMR_INSTA_BOLETN" jdbcType="CHAR" property="numr_insta_boletn"/>
    <result column="instancia_boletin" jdbcType="VARCHAR" property="instancia_boletin"/>
    <result column="lugar_boletin" jdbcType="VARCHAR" property="lugar_boletin"/>
    <result column="tipo" jdbcType="VARCHAR" property="tipo"/>
  </resultMap>

  <select id="reporteSolicitudMagistradoCab" parameterClass="String" resultMap="resultMapReporte1">
  	SELECT sp.CODG_CERTI, sp.NUME_CERTI, sp.APLL_PATER_SOLIC, sp.APLL_MATER_SOLIC, sp.FECH_NACIM_SOLIC, 
  	sp.NOM1_SOLIC, sp.NOM2_SOLIC, sp.NOM3_SOLIC, sp.NOM4_SOLIC, sp.NOM5_SOLIC, 
  	sp.NOM_PADRE, sp.NOM_MADRE, sp.NUME_IDENT_SOLIC, sp.NUME_EXPED_SOLIC, sp.CODG_USUAR, 
  	sp.TIPO_SOLIC, sp.FECH_DIGIT_SOLIC, sp.FECH_IMPRESION, sp.DESC_JUZGA_SOLIC, sp.NOMB_JUZGA_SOLIC, 
  	sp.CODG_ESTADO_SOLICITUD, sp.L_NACIDO_EXTERIOR, sp.LUGAR_NACIMIENTO, di.abreviatura doc_abreviatura, d.DESC_LUGAR dep_descripcion,
	rtrim(firma.CODG_USU_FIRMA) sol_firma_codigo, firma.DESC_NOMBRE sol_firma_nombre, firma.DESC_SUMILLA sol_firma_sumilla
	FROM SOLICITUDES_PROVINCIA sp 
	LEFT JOIN documentos_de_identidad di ON sp.DOCU_IDENT_SOLIC = di.codigo_tipo_documento
	LEFT JOIN DEPARTAMENTO d ON sp.X_CODG_LUGAR_NAC = d.CODG_LUGAR
	LEFT JOIN FIRMA_AUTORIZADA firma ON sp.CODG_USU_FIRMA = firma.CODG_USU_FIRMA
	WHERE sp.CODG_CERTI = #value:CHAR# 
  </select>

  <select id="reporteSolicitudMagistradoBusq" parameterClass="Map" resultMap="resultMapReporte1">
  	SELECT sp.CODG_CERTI, sp.NUME_CERTI, sp.APLL_PATER_SOLIC, sp.APLL_MATER_SOLIC, sp.FECH_NACIM_SOLIC, 
  	sp.NOM1_SOLIC, sp.NOM2_SOLIC, sp.NOM3_SOLIC, sp.NOM4_SOLIC, sp.NOM5_SOLIC, 
  	sp.NOM_PADRE, sp.NOM_MADRE, sp.NUME_IDENT_SOLIC, sp.NUME_EXPED_SOLIC, sp.CODG_USUAR, 
  	sp.TIPO_SOLIC, sp.FECH_DIGIT_SOLIC, sp.FECH_IMPRESION, sp.DESC_JUZGA_SOLIC, sp.NOMB_JUZGA_SOLIC, 
  	sp.CODG_ESTADO_SOLICITUD, sp.L_NACIDO_EXTERIOR, sp.LUGAR_NACIMIENTO, di.abreviatura doc_abreviatura, d.DESC_LUGAR dep_descripcion,
	rtrim(firma.CODG_USU_FIRMA) sol_firma_codigo, firma.DESC_NOMBRE sol_firma_nombre, firma.DESC_SUMILLA sol_firma_sumilla
	FROM SOLICITUDES_PROVINCIA sp
	LEFT JOIN documentos_de_identidad di ON sp.DOCU_IDENT_SOLIC = di.codigo_tipo_documento
	LEFT JOIN DEPARTAMENTO d ON sp.X_CODG_LUGAR_NAC = d.CODG_LUGAR
	LEFT JOIN FIRMA_AUTORIZADA firma ON sp.CODG_USU_FIRMA = firma.CODG_USU_FIRMA
	<dynamic prepend="WHERE">
      <isNotNull prepend="AND" property="CODG_CERTI">
        sp.CODG_CERTI = #CODG_CERTI:CHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="NUME_CERTI">
        sp.NUME_CERTI = #NUME_CERTI:CHAR#
      </isNotNull>
      <isNotNull prepend="AND" property="TIPO_SOLIC">
        sp.TIPO_SOLIC IN ('03','07')
      </isNotNull>
      <isNotNull prepend="AND" property="ANIO">
        YEAR(sp.FECH_REGISTRO) = #ANIO:INTEGER#
      </isNotNull>
      <isNotNull prepend="AND" property="MES">
        MONTH(sp.FECH_REGISTRO) = #MES:INTEGER#
      </isNotNull>
    </dynamic>
  </select>

  <select id="reporteSolicitudMagistradoDet" parameterClass="String" resultMap="resultMapBoletin1">
  	(
  	SELECT bol.NUMR_BOLETN, bol.NUME_EXPTE_BOLETN, bol.FECH_PRONU_BOLETN, 
  	bol.INDC_REHABILITADO, bol.FECH_NACIM_BOLETN, bol.FECH_INICI_CONDEN, 
	(SELECT lower(DELITO.DESC_DELIT) FROM DELITO WHERE DELITO.CODG_DELIT=bol.CODG_DELIT) AS DELITO1, 
	(SELECT lower(DELITO.DESC_DELIT) FROM DELITO WHERE DELITO.CODG_DELIT=bol.CODG_DELIT2) AS DELITO2, 
	(SELECT lower(DELITO.DESC_DELIT) FROM DELITO WHERE DELITO.CODG_DELIT=bol.CODG_DELIT3) AS DELITO3, 
	(SELECT lower(DELITO.DESC_DELIT) FROM DELITO WHERE DELITO.CODG_DELIT=bol.CODG_DELIT4) AS DELITO4, 
	(SELECT lower(DELITO.DESC_DELIT) FROM DELITO WHERE DELITO.CODG_DELIT=bol.CODG_DELIT5) AS DELITO5, 
    bol.ANNO_PENA_BOLETN, bol.MESS_PENA_BOLETN, bol.DIAA_PENA_BOLETN, bol.FECH_FIN_CONDEN,  
    (SELECT DESC_PENA FROM PENA WHERE CODG_PENA = bol.CODG_PENA) AS DESC_PENA, 
    r.NUMR_BOLETN_REHAB, r.NUMR_INSTA_REHAB, r.FECH_REHAB, 
    upper((SELECT T.DESC_TIPO_PRONU FROM TIPO_PRONUNCIAMIENTO T WHERE T.TIPO_PRONU = r.TIPO_PRONU)) instancia_rehab, 
	upper((SELECT DT.DESC_LUGAR FROM DEPARTAMENTO DT WHERE DT.CODG_LUGAR = r.CODG_LUGAR)) lugar_rehab,  
	bol.NUMR_INSTA_BOLETN, 
    upper((SELECT RTRIM(T.DESC_TIPO_PRONU) FROM TIPO_PRONUNCIAMIENTO T WHERE T.TIPO_PRONU = bol.TIPO_PRONU)) instancia_boletin, 
    upper((SELECT D.DESC_LUGAR FROM DEPARTAMENTO D WHERE D.CODG_LUGAR = bol.CODG_LUGAR)) lugar_boletin, 
    'F' as tipo   
	FROM BOLETIN bol INNER JOIN CERTIFICADO_BOLETIN cb ON cb.NUMR_BOLETN = bol.NUMR_BOLETN
	LEFT JOIN REHABILITADOS r ON bol.INDC_REHABILITADO='S' AND bol.NUMR_BOLETN = r.NUMR_BOLETN_REHAB 
	WHERE cb.CODG_CERTI = #value:CHAR# AND cb.CODG_CORRESP_BOLETIN = 'S' 
	) UNION (
	SELECT CB.NUMR_BOLETN, rtrim(convert(CHAR,BE.n_expediente))+' - '+convert(CHAR,BE.n_ano_expe) as NUME_EXPTE_BOLETN, 
	convert(CHAR(8),BI.f_sentencia,112) as FECH_PRONU_BOLETN, isnull(BE.l_rehabilitado,'N') as INDC_REHABILITADO, 
	convert(CHAR(8), BPP.f_nacimiento,112) as FECH_NACIM_BOLETN, BP.f_inicio as FECH_INICI_CONDEN, 
	'' as delito1, '' as delito2, '' as delito3, '' as delito4, '' as delito5, 
    convert(INT,BP.n_ano_condena) as ANNO_PENA_BOLETN, convert(INT,BP.n_mes_condena) as MESS_PENA_BOLETN, 
    convert(INT,BP.n_dias_condena) as DIAA_PENA_BOLETN, BP.f_termino as FECH_FIN_CONDEN, 
    isnull((SELECT MaePenas.x_tipo_pena FROM MaePenas WHERE MaePenas.c_tipopena = BP.c_tipopena ),'') as DESC_PENA, 
    case when BE.l_rehabilitado='S' then BE.n_boletin else null end as NUMR_BOLETN_REHAB, 
    case when BE.l_rehabilitado='S' then BE.c_instancia else null end as NUMR_INSTA_REHAB, 
    case when BE.l_rehabilitado='S' then convert(CHAR(8), BE.f_modificacion, 112) else null end as FECH_REHAB, 
    case when BE.l_rehabilitado='S' then MI2.x_nom_instancia else null end as instancia_rehab, 
    case when BE.l_rehabilitado='S' then MP2.x_nom_provincia else null end as lugar_rehab, 
    BI.c_instancia as NUMR_INSTA_BOLETN, MI1.x_nom_instancia as instancia_boletin, MP1.x_nom_provincia as lugar_boletin, 
    'E' as tipo 
    FROM CERTIFICADO_BOLETIN CB JOIN BoletinElectronico BE ON BE.n_boletin = CB.NUMR_BOLETN
    JOIN BoletinPersonas BPP ON BPP.n_boletin = BE.n_boletin   
    JOIN BoletinInstancias BI ON BI.n_boletin = BE.n_boletin AND BI.n_secuencial = 1  
    LEFT OUTER JOIN BoletinPenas BP ON BP.n_boletin = BE.n_boletin AND BP.n_secuencial = 1  
    LEFT OUTER JOIN  MaeInstancias MI1 ON MI1.c_distrito = BI.c_distrito 
    AND MI1.c_provincia = BI.c_provincia AND MI1.c_instancia = BI.c_instancia 
    LEFT OUTER JOIN  MaeProvincias MP1 ON MP1.c_distrito = BE.c_distrito AND MP1.c_provincia = BE.c_provincia 
    LEFT OUTER JOIN  MaeInstancias MI2 ON MI2.c_distrito = BE.c_distrito 
    AND MI2.c_provincia = BE.c_provincia AND MI2.c_instancia = BE.c_instancia 
    LEFT OUTER JOIN  MaeProvincias MP2 ON MP2.c_distrito = BE.c_distrito AND MP2.c_provincia = BE.c_provincia 
    WHERE CB.CODG_CERTI = #value:CHAR# AND CB.CODG_CORRESP_BOLETIN = 'S' 
	)
  </select>
  
  <select id="consultarSolicitudesInternas" parameterClass="pe.gob.pj.rnc.criterio.CriterioListarSolicitud" resultMap="abatorgenerated_SolicitudResult">
    select SP.CODG_CERTI, SP.NUME_CERTI, SP.APLL_PATER_SOLIC, SP.APLL_MATER_SOLIC, SP.NOM1_SOLIC, SP.NOM2_SOLIC,
      SP.NOM3_SOLIC, SP.NOM4_SOLIC, SP.NOM5_SOLIC, SP.TIPO_SOLIC, SP.MOTI_SOLIC, SP.DOCU_IDENT_SOLIC,
      SP.NUME_IDENT_SOLIC, SP.NUME_JUZGA, SP.CODG_JUZGAD, SP.CODG_LUGAR, SP.NOMB_JUZGA_SOLIC, SP.NUME_EXPED_SOLIC,
      SP.FECH_NACIM_SOLIC, SP.CODG_USUAR, SP.N_VECES, SP.MARCA, SP.DESC_JUZGA_SOLIC, SP.FECH_DIGIT_SOLIC,
      SP.INDC_PROCE_SOLIC, SP.V_DES_OFICIOx, SP.V_DES_DISTRITOx, SP.DESC_TASA, SP.CODG_USU_FOTO, SP.FECH_FOTO,
      SP.RUTA_FOTO, SP.CODG_ESTADO_FOTO, SP.CODG_TIPO_ORIGEN, SP.OBSERVACION, SP.CODG_ESTADO_SOLICITUD,
      SP.CODG_USU_REGISTRO, SP.FECH_REGISTRO, SP.CODG_USU_ULT_MODI, SP.FECH_ULT_MODI, SP.DESC_FEC_USU_MODI,
      SP.NOM_PADRE, SP.NOM_MADRE, SP.NOM_APODERADO, SP.INDC_PROVINCIA, SP.INDC_ANULADO, SP.CODG_USU_ANULACION,
      SP.FECH_ANULACION, SP.DESC_ANULACION, SP.NUMR_HOJA, SP.V_DES_OFICIO, SP.V_DES_DISTRITO, SP.NOMB_JUZGA_SOLIC1,
      SP.NUMR_IMPRESION, SP.CODG_USU_IMPRESION, SP.ANIO_HOJA, SP.FECH_IMPRESION, SP.NUMR_FORM_ANTERIOR,
      SP.FECH_ENTREGA, SP.CODG_DISTRITO_JUDICIAL, SP.INDC_URGENTE, SP.CODG_USU_FIRMA, SP.X_CODG_LUGAR_NAC,
      SP.SERIE_HOJA, SP.f_aud, SP.____b_aud, SP.c_aud_uid, SP.c_aud_pc, SP.n_aud_ip, SP.c_aud_mcaddr, SP.c_aud_lgnred,
      SP.VENTANILLA, SP.L_INDC_OFICIO, SP.L_FEC_NAC, SP.l_nro_modifica, SP.pk_alternativo, SP.NUMR_HOJA_FIN,
      SP.l_autoriza, SP.l_usuar_aut, SP.fech_aut, SP.DES_DELITO, SP.INDC_MAGISTRADO,
      (select ESC.DESC_ESTADO FROM ESTADO_SOLICITUD_CERTIFICADO ESC WHERE SP.CODG_ESTADO_SOLICITUD = ESC.CODG_ESTADO) AS DESC_ESTADO_SOLICITUD 
    from SOLICITUDES_PROVINCIA SP  
	<dynamic prepend="WHERE ">
	  <isNotNull prepend="AND" property="indicador">
		SP.INDC_MAGISTRADO = #indicador:VARCHAR# 
	  </isNotNull>	 
      <isNotNull prepend="AND" property="estadoSolicitud">		
		(  (#estadoSolicitud:CHAR#='1' AND SP.CODG_ESTADO_SOLICITUD not in ('IMP','ENT'))  
      	OR (#estadoSolicitud:CHAR#='2' AND SP.CODG_ESTADO_SOLICITUD = 'IMP') 
      	OR (#estadoSolicitud:CHAR#='3' AND SP.CODG_ESTADO_SOLICITUD = 'REG' AND (SP.MARCA='S' OR SP.L_INDC_OFICIO='S'))  ) 
      </isNotNull>
      <isNotNull prepend="AND" property="codigoUsuario">
        SP.CODG_USUAR LIKE #codigoUsuario:VARCHAR# 
      </isNotNull>
      <isNotNull prepend="AND" property="fechaInicial">
        SP.FECH_DIGIT_SOLIC <![CDATA[ >= ]]> #fechaInicial:DATE# 
      </isNotNull>
      <isNotNull prepend="AND" property="fechaFinal">
        SP.FECH_DIGIT_SOLIC <![CDATA[ < ]]> #fechaFinal:DATE# 
      </isNotNull>
      <isNotNull prepend="AND" property="apellidoPaterno">
        SP.APLL_PATER_SOLIC LIKE #apellidoPaterno:VARCHAR# 
      </isNotNull>
      <isNotNull prepend="AND" property="apellidoMaterno">
        SP.APLL_MATER_SOLIC LIKE #apellidoMaterno:VARCHAR# 
      </isNotNull>
      <isNotNull prepend="AND" property="nombre">
        (SP.NOM1_SOLIC LIKE #nombre:VARCHAR# OR SP.NOM2_SOLIC LIKE #nombre:VARCHAR# OR SP.NOM3_SOLIC LIKE #nombre:VARCHAR#) 
      </isNotNull>
      <isNotNull prepend="AND" property="nroCertificado">
      	SP.NUME_CERTI = #nroCertificado:VARCHAR#  
      </isNotNull>
    </dynamic>
  </select>

</sqlMap>
